Лабораторная работа №07: Управление доступом, расширениями и локализацией
Цель работы: Освоить управление правами доступа пользователей, работу с расширениями
PostgreSQL и настройку параметров локализации. Получить практические навыки настройки
аутентификации, управления привилегиями, установки расширений и миграции данных между разными
кодировками.
**Дата:** 2025-11-30
**Семестр:** 4 курс 1 полугодие – 7 семестр  
**Группа:** ПИЖ-б-о-22-1  
**Дисциплина:** Администрирование баз данных  
**Студент:** Джараян Арег Александрович
### Теоретическая часть (краткое содержание):
**Управление доступом: Система ролей и привилегий в PostgreSQL. Настройка аутентификации
через файл pg_hba.conf.**
**Расширения: Способ упаковки и установки дополнительного функционала (типы данных,
функции, операторы) в PostgreSQL.**
**Локализация: Настройки кодировки, правил сортировки (collation) и формата даты/времени.**
## Практическая работа
Модуль 1
Модуль 1: Управление доступом
1. Базовые привилегии:
Создайте новую базу данных access_db и двух пользователей: writer (с правом создания
объектов) и reader (только чтение).
Отзовите у роли public все привилегии на схему public в новой БД. Выдайте роли writer
права CREATE и USAGE на схему public, а роли reader — только USAGE.
Настройте привилегии по умолчанию так, чтобы роль reader автоматически получала
право SELECT на новые таблицы в схеме public, принадлежащие writer.
Создайте пользователей w1 (входит в роль writer) и r1 (входит в роль reader).
Подключитесь под writer, создайте таблицу test_table. Убедитесь, что r1 может только
читать ее, а w1 — имеет полный доступ (включая DELETE).
2. Аутентификация (Практика+):
Создайте пользовательские роли alice и bob.
Отредактируйте pg_hba.conf, разрешив беспарольный вход (trust) только для postgres и
student. Для всех остальных методов установите reject или md5. Перезагрузите
конфигурацию. Убедитесь, что вход для alice и bob запрещен.
Для alice и bob настройте аутентификацию по peer (сопоставление с пользователем ОС).
Убедитесь, что войти нельзя без создания пользователя в ОС.
Создайте в ОС пользователя alice. Настройте вход в PostgreSQL для роли alice с методом
peer. Проверьте вход.
Проверьте, можно ли использовать одно отображение peer для нескольких ролей.

